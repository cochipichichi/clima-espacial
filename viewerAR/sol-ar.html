<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ“± AR â€” Sol con marcador</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.6/aframe/build/aframe-ar.min.js"></script>
  <link rel="stylesheet" href="../css/styles.css" />
</head>
<body class="dark">
  <header class="top-bar">
    <div class="top-left">
      <span class="logo">ğŸ“± AR â€” Sol con marcador</span>
    </div>
    <div class="top-right controls">
      <a href="../index.html" class="btn secondary">ğŸ  Volver</a>
    </div>
  </header>

  <main>
    <section class="card full">
      <h1>Realidad aumentada con marcador (AR.js)</h1>
      <p>
        Imprime un marcador tipo <code>hiro</code> y reemplaza el modelo 3D en <code>../assets/models/sol.glb</code>
        para ver el Sol o la magnetosfera sobre tu mesa.
      </p>
    </section>
    <section class="card full" style="padding:0; overflow:hidden;">
      <a-scene
        embedded
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true;"
        arjs="sourceType: webcam; debugUIEnabled: false;">
        <a-assets>
          <a-asset-item id="solModel" src="../assets/models/sol.glb"></a-asset-item>
        </a-assets>

        <a-marker type="pattern" preset="hiro">
          <a-entity gltf-model="#solModel" scale="0.5 0.5 0.5"></a-entity>
        </a-marker>

        <a-entity camera></a-entity>
      </a-scene>
    </section>
  </main>

  <script>
    try {
      const raw = localStorage.getItem("schumann_badges");
      const badges = raw ? JSON.parse(raw) : {};
      if (!badges["viewerAR"]) {
        badges["viewerAR"] = "ğŸ“± Explorador/a AR del Sol";
        localStorage.setItem("schumann_badges", JSON.stringify(badges));
      }
    } catch (e) {}
  </script>
</body>
</html>
